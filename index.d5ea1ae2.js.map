{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAcC,SAASC,eAAe,gBACtCC,EAAUF,SAASG,cAAc,aAEjCC,GADKJ,SAASG,cAAc,cACnBH,SAASG,cAAc,YAChCE,EAAQL,SAASG,cAAc,UACxBH,SAASG,cAAc,QA8CpC,SAASG,EAAUC,EAAS,GAAIC,GAC/BA,EAAKC,UAAYF,C,CAGlB,SAASG,IACP,MAAMC,EAAUZ,EAAYa,MAC5BR,EAAOS,MAAMC,QAAU,SAEzB,EAAAjB,EAAAkB,iBAAiBJ,GAChBK,MAAKC,IAEJX,EAxBF,UAAoBY,IAClBA,EAAM,GACNC,SAASC,YAAEA,EAAc,GAAEC,YAAEA,EAAc,GAAEC,KAAEA,EAAO,MACpD,IACF,MAAO,sCAAsCJ,2FAEEI,uCACnBF,gEAC0BC,iB,CAevCE,CAAWN,GACRf,GAClBG,EAAMQ,MAAMC,QAAU,OACtBV,EAAOS,MAAMC,QAAU,MAAM,IAE9BU,OAAM,KACLC,GAAW,G,CAIb,SAASA,IACPvB,EAAQW,MAAMC,QAAQ,OACtBf,EAAYa,MAAQ,GACpBP,EAAMQ,MAAMC,QAAU,QACtBV,EAAOS,MAAMC,QAAU,M,CApEzBf,EAAY2B,iBAAiB,SAAUhB,GACvCiB,OAAOD,iBAAiB,QAKxB,YAME,EAAA7B,EAAA+B,eACGZ,MAAKG,IAEJb,EAQgG,SAA/EuB,EAAK,IAC5B,OAAOA,EACNC,KAAI,EAACC,mBAACA,EAAkBT,KAAEA,KAClB,kBAAkBS,MAAuBT,eAC/CU,KAAK,G,CAbaC,CAAcd,GACXpB,GAClBK,EAAOS,MAAMC,QAAU,MAAM,IAE9BU,OAAM,KACLC,GAAW,IAXf1B,EAAY2B,iBAAiB,SAAUhB,E,IALzCL,EAAMQ,MAAMC,QAAU,OACtBV,EAAOS,MAAMC,QAAU","sources":["src/index.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst breedSelect = document.getElementById('breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst img= document.querySelector('.cat-image')\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst form = document.querySelector('form');\n\nbreedSelect.addEventListener('change', handleBreedSelect);\nwindow.addEventListener('load', init);\n\nerror.style.display = 'none';\nloader.style.display = 'block';\n\nfunction init() {\n  populateBreeds();\n  breedSelect.addEventListener('change', handleBreedSelect);//слухач за вибором породи в селекті\n}\n//запит з беку, const markup це підстановка даних беку в ф-ію створення розмітки опшинс, \nfunction populateBreeds() {\n  fetchBreeds()\n    .then(breeds => {\n      const markup = createOptions(breeds);\n      addMarkup(markup, breedSelect);//\n      loader.style.display = 'none';\n    })\n    .catch(() => {\n      showError();\n      });\n}\n//перебирає кожен елемент(обєкт) масиву, що прийшов і бере властивості і вставляє їх в розмітку-це масив, збирає масив в строку.\nfunction createOptions(data=[]){\nreturn data\n.map(({reference_image_id, name})=>{\n  return `<option value=\"${reference_image_id}\">${name}</option>`;\n}).join('');\n\n}\n//створеня розмітки для інформації про обраного кота, \nfunction createCard({\n  url = '',\n  breeds: [{ description = '', temperament = '', name = '' }],\n} = {}) {\n  return `<img width=300 id=\"cat-image\" src=\"${url}\" alt=\"Cat\">\n  <div id=\"cat-details\">\n    <h2 id=\"description, temperamentcat-breed\">${name}</h2>\n    <p id=\"cat-description\">${description}</p>\n    <p id=\"cat-temperament\"><span>Temperament:</span> ${temperament}</p>\n  </div>`\n  \n}\n\nfunction addMarkup(markup = '', elem) {\n elem.innerHTML = markup;  \n}\n\nfunction handleBreedSelect() {\n  const breedId = breedSelect.value;\n  loader.style.display = 'block';\n\nfetchCatByBreed (breedId)\n.then(cat => {\n  const markup = createCard(cat);\n  addMarkup(markup, catInfo);\n  error.style.display = 'none';\n  loader.style.display = 'none';\n})\n.catch(() => {\n  showError();\n \n});}\n\nfunction showError() {\n  catInfo.style.display='none';\n  breedSelect.value = \"\";\n  error.style.display = 'block';\n  loader.style.display = 'none';\n}\n\n\n"],"names":["$9dxg1","parcelRequire","$1f0dc3b9307be026$var$breedSelect","document","getElementById","$1f0dc3b9307be026$var$catInfo","querySelector","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$addMarkup","markup","elem","innerHTML","$1f0dc3b9307be026$var$handleBreedSelect","breedId","value","style","display","fetchCatByBreed","then","cat","url","breeds","description","temperament","name","$1f0dc3b9307be026$var$createCard","catch","$1f0dc3b9307be026$var$showError","addEventListener","window","fetchBreeds","data","map","reference_image_id","join","$1f0dc3b9307be026$var$createOptions"],"version":3,"file":"index.d5ea1ae2.js.map"}