{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAcC,SAASC,eAAe,gBACtCC,EAAUF,SAASG,cAAc,aAEjCC,GADKJ,SAASG,cAAc,cACnBH,SAASG,cAAc,YAChCE,EAAQL,SAASG,cAAc,UAC/BG,EAAON,SAASG,cAAc,QA8CpC,SAASI,EAAUC,EAAS,GAAIC,GAChCA,EAAKC,UAAYF,C,CAGjB,SAASG,IACP,MAAMC,EAAUb,EAAYc,MAC5BT,EAAOU,MAAMC,QAAU,SAEzB,EAAAlB,EAAAmB,iBAAiBJ,GAChBK,MAAKC,IAEJX,EAxBF,UAAoBY,IAClBA,EAAM,GACNC,SAASC,YAAEA,EAAc,GAAEC,YAAEA,EAAc,GAAEC,KAAEA,EAAO,MACpD,IACF,MAAO,sCAAsCJ,2FAEEI,uCACnBF,gEAC0BC,iB,CAevCE,CAAWN,GACRhB,GAClBG,EAAMS,MAAMC,QAAU,OACtBX,EAAOU,MAAMC,QAAU,MAAM,IAE9BU,OAAM,KACLC,IAEApB,EAAKqB,QACL5B,EAAYc,MAAQ,GAKpBN,EAAUC,OAAS,GAAIN,EAAQ,G,CAGjC,SAASwB,IACPrB,EAAMS,MAAMC,QAAU,QACtBX,EAAOU,MAAMC,QAAU,M,CAzEzBhB,EAAY6B,iBAAiB,SAAUjB,GACvCkB,OAAOD,iBAAiB,QAKxB,YAME,EAAA/B,EAAAiC,eACGb,MAAKG,IAEJb,EAQgG,SAA/EwB,EAAK,IAC5B,OAAOA,EACNC,KAAI,EAACC,mBAACA,EAAkBV,KAAEA,KAClB,kBAAkBU,MAAuBV,eAC/CW,KAAK,G,CAbaC,CAAcf,GACXrB,GAClBK,EAAOU,MAAMC,QAAU,MAAM,IAE9BU,OAAM,KACLC,GAAW,IAXf3B,EAAY6B,iBAAiB,SAAUjB,E,IALzCN,EAAMS,MAAMC,QAAU,OACtBX,EAAOU,MAAMC,QAAU","sources":["src/index.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst breedSelect = document.getElementById('breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst img= document.querySelector('.cat-image')\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst form = document.querySelector('form');\n\nbreedSelect.addEventListener('change', handleBreedSelect);\nwindow.addEventListener('load', init);\n\nerror.style.display = 'none';\nloader.style.display = 'block';\n\nfunction init() {\n  populateBreeds();\n  breedSelect.addEventListener('change', handleBreedSelect);//слухач за вибором породи в селекті\n}\n//запит з беку, const markup це підстановка даних беку в ф-ію створення розмітки опшинс, \nfunction populateBreeds() {\n  fetchBreeds()\n    .then(breeds => {\n      const markup = createOptions(breeds);\n      addMarkup(markup, breedSelect);//\n      loader.style.display = 'none';\n    })\n    .catch(() => {\n      showError();\n      });\n}\n//перебирає кожен елемент(обєкт) масиву, що прийшов і бере властивості і вставляє їх в розмітку-це масив, збирає масив в строку.\nfunction createOptions(data=[]){\nreturn data\n.map(({reference_image_id, name})=>{\n  return `<option value=\"${reference_image_id}\">${name}</option>`;\n}).join('');\n\n}\n//створеня розмітки для інформації про обраного кота, \nfunction createCard({\n  url = '',\n  breeds: [{ description = '', temperament = '', name = '' }],\n} = {}) {\n  return `<img width=300 id=\"cat-image\" src=\"${url}\" alt=\"Cat\">\n  <div id=\"cat-details\">\n    <h2 id=\"description, temperamentcat-breed\">${name}</h2>\n    <p id=\"cat-description\">${description}</p>\n    <p id=\"cat-temperament\"><span>Temperament:</span> ${temperament}</p>\n  </div>`\n  \n}\n\nfunction addMarkup(markup = '', elem) {\nelem.innerHTML = markup;  \n}\n\nfunction handleBreedSelect() {\n  const breedId = breedSelect.value;\n  loader.style.display = 'block';\n\nfetchCatByBreed (breedId)\n.then(cat => {\n  const markup = createCard(cat);\n  addMarkup(markup, catInfo);\n  error.style.display = 'none';\n  loader.style.display = 'none';\n})\n.catch(() => {\n  showError();\n  // \n  form.reset()\n  breedSelect.value = \"\";\n  // catInfo.style.display = 'none';\n  // form.reset()\n  // form.style.display = 'none';\n  // breedSelect.style.display = 'block';\n  addMarkup(markup = '', catInfo)\n});}\n\nfunction showError() {\n  error.style.display = 'block';\n  loader.style.display = 'none';\n  \n}\n\n\n"],"names":["$9dxg1","parcelRequire","$1f0dc3b9307be026$var$breedSelect","document","getElementById","$1f0dc3b9307be026$var$catInfo","querySelector","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$addMarkup","markup","elem","innerHTML","$1f0dc3b9307be026$var$handleBreedSelect","breedId","value","style","display","fetchCatByBreed","then","cat","url","breeds","description","temperament","name","$1f0dc3b9307be026$var$createCard","catch","$1f0dc3b9307be026$var$showError","reset","addEventListener","window","fetchBreeds","data","map","reference_image_id","join","$1f0dc3b9307be026$var$createOptions"],"version":3,"file":"index.db36ae16.js.map"}